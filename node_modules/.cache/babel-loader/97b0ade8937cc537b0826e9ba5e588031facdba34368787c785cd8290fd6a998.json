{"ast":null,"code":"import _slicedToArray from\"/home/brian/Development/code/phase4/phase-4-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../styling/forgotpassword.css';import{Link}from'react-router-dom';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ForgetPasswordPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserame=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var navigate=useNavigate();var resetData={password:password};function handleResetPassword(e){e.preventDefault();fetch(\"/reset-password/\".concat(userName),{method:'PUT',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(resetData)}).then(function(response){if(response.ok){response.json().then(function(data){return console.log(data);});navigate('/');}else{response.json().then(function(errorData){return setErrors(errorData.error);});}});}return/*#__PURE__*/_jsx(\"div\",{id:\"forgot-password-page\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"reset-password-form\",onSubmit:handleResetPassword,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reset your password\"}),errors.length>0&&/*#__PURE__*/_jsx(\"ul\",{style:{color:'red'},children:/*#__PURE__*/_jsx(\"li\",{children:errors})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Enter username\",required:true,onChange:function onChange(e){return setUserame(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",placeholder:\"Enter Password\",required:true,autoComplete:\"true\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"form-text\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Login\"}),\".\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Reset password\"})})]})});}","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","ForgetPasswordPage","_useState","_useState2","_slicedToArray","userName","setUserame","_useState3","_useState4","password","setPassword","_useState5","_useState6","errors","setErrors","navigate","resetData","handleResetPassword","e","preventDefault","fetch","concat","method","headers","credentials","body","JSON","stringify","then","response","ok","json","data","console","log","errorData","error","id","children","onSubmit","length","style","color","className","type","placeholder","required","onChange","target","value","autoComplete","to","textAlign"],"sources":["/home/brian/Development/code/phase4/phase-4-project/client/src/components/ForgetPasswordPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styling/forgotpassword.css';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function ForgetPasswordPage() {\n\tconst [userName, setUserame] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [errors, setErrors] = useState([]);\n\n\tconst navigate = useNavigate();\n\n\tconst resetData = { password };\n\n\tfunction handleResetPassword(e) {\n\t\te.preventDefault();\n\t\tfetch(`/reset-password/${userName}`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify(resetData)\n\t\t}).then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\tresponse.json().then((data) => console.log(data));\n\t\t\t\tnavigate('/');\n\t\t\t} else {\n\t\t\t\tresponse.json().then((errorData) => setErrors(errorData.error));\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<div id=\"forgot-password-page\">\n\t\t\t<form id=\"reset-password-form\" onSubmit={handleResetPassword}>\n\t\t\t\t<h2>Reset your password</h2>\n\n\t\t\t\t{errors.length > 0 && (\n\t\t\t\t\t<ul style={{ color: 'red' }}>\n\t\t\t\t\t\t<li>{errors}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Username</label>\n\t\t\t\t\t<br />\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter username\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setUserame(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Password</label>\n\t\t\t\t\t<br />\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Enter Password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tautoComplete=\"true\"\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<p className=\"form-text\">\n\t\t\t\t\t<Link to=\"/\">Back to Login</Link>.\n\t\t\t\t</p>\n\n\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">\n\t\t\t\t\t\tReset password\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}