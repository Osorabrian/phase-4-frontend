{"ast":null,"code":"import _slicedToArray from\"/home/brian/Development/code/phase4/phase-4-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import'../styling/updateappointment.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpdateAppointment(){var params=useParams();var id=params.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),doctor=_useState2[0],setDoctor=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),duration=_useState6[0],setDuration=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),appointment=_useState8[0],setAppointment=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),doctors=_useState10[0],setDoctors=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),errors=_useState12[0],setErrors=_useState12[1];var navigate=useNavigate();useEffect(function(){fetch('/doctors',{method:'GET',credentials:'include'}).then(function(response){return response.json();}).then(function(data){return setDoctors(data);});},[]);var allDoctors=doctors.map(function(doctor){return/*#__PURE__*/_jsx(\"option\",{value:doctor.id,children:doctor.name},doctor.id);});var appointmentData={doctor_id:doctor,date:date,duration:duration,appointment_type:appointment};function handleUpdate(e){e.preventDefault();fetch(\"/appointments/\".concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(appointmentData)}).then(function(response){if(response.ok){response.json().then(function(data){return console.log(data);});navigate('/appointments');}else{response.json().then(function(errorData){return setErrors(errorData.errors);});}});}return/*#__PURE__*/_jsx(\"div\",{id:\"update-appointment-page\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"update-form\",onSubmit:handleUpdate,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Appointment\"}),errors.length>0&&/*#__PURE__*/_jsx(\"ul\",{style:{color:'red'},children:errors.map(function(error,index){return/*#__PURE__*/_jsx(\"li\",{children:error},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Select Doctor\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",onChange:function onChange(e){return setDoctor(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose Doctor ....\"}),allDoctors]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",required:true,onChange:function onChange(e){return setDate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Duration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g 30 minutes\",required:true,onChange:function onChange(e){return setDuration(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Type of Appointment\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g Consultation\",required:true,onChange:function onChange(e){return setAppointment(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{width:'150px'},type:\"submit\",children:\"Update\"})})]})});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","UpdateAppointment","params","id","_useState","_useState2","_slicedToArray","doctor","setDoctor","_useState3","_useState4","date","setDate","_useState5","_useState6","duration","setDuration","_useState7","_useState8","appointment","setAppointment","_useState9","_useState10","doctors","setDoctors","_useState11","_useState12","errors","setErrors","navigate","fetch","method","credentials","then","response","json","data","allDoctors","map","value","children","name","appointmentData","doctor_id","appointment_type","handleUpdate","e","preventDefault","concat","headers","body","JSON","stringify","ok","console","log","errorData","onSubmit","length","style","color","error","index","className","onChange","target","type","required","placeholder","textAlign","width"],"sources":["/home/brian/Development/code/phase4/phase-4-project/client/src/components/updateappointment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport '../styling/updateappointment.css';\n\nexport default function UpdateAppointment() {\n\tconst params = useParams();\n\tconst id = params.id;\n\n\tconst [doctor, setDoctor] = useState('');\n\tconst [date, setDate] = useState('');\n\tconst [duration, setDuration] = useState('');\n\tconst [appointment, setAppointment] = useState('');\n\tconst [doctors, setDoctors] = useState([]);\n\tconst [errors, setErrors] = useState([]);\n\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tfetch('/doctors', {\n\t\t\tmethod: 'GET',\n\t\t\tcredentials: 'include'\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => setDoctors(data));\n\t}, []);\n\n\tconst allDoctors = doctors.map((doctor) => {\n\t\treturn (\n\t\t\t<option key={doctor.id} value={doctor.id}>\n\t\t\t\t{doctor.name}\n\t\t\t</option>\n\t\t);\n\t});\n\n\tconst appointmentData = {\n\t\tdoctor_id: doctor,\n\t\tdate,\n\t\tduration,\n\t\tappointment_type: appointment,\n\t};\n\n\tfunction handleUpdate(e) {\n\t\te.preventDefault();\n\t\tfetch(`/appointments/${id}`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify(appointmentData),\n\t\t}).then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\tresponse.json().then((data) => console.log(data));\n\t\t\t\tnavigate('/appointments');\n\t\t\t} else {\n\t\t\t\tresponse.json().then((errorData) => setErrors(errorData.errors));\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<div id=\"update-appointment-page\">\n\t\t\t<form id=\"update-form\" onSubmit={handleUpdate}>\n\t\t\t\t<h1>Update Appointment</h1>\n\n\t\t\t\t{errors.length > 0 && (\n\t\t\t\t\t<ul style={{ color: 'red' }}>\n\t\t\t\t\t\t{errors.map((error, index) => {\n\t\t\t\t\t\t\treturn <li key={index}>{error}</li>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Select Doctor</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName=\"form-select\"\n\t\t\t\t\t\tonChange={(e) => setDoctor(e.target.value)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option>Choose Doctor ....</option>\n\t\t\t\t\t\t{allDoctors}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Date</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setDate(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Duration</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"e.g 30 minutes\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setDuration(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Type of Appointment</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"e.g Consultation\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setAppointment(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\tstyle={{ width: '150px' }}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\tUpdate\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}