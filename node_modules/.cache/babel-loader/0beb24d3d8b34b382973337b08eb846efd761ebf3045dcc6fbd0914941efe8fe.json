{"ast":null,"code":"var _jsxFileName = \"/home/brian/Development/code/phase4/client/src/components/LogInPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../styling/login.css';\nimport { useAuth } from './auth';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignInPage() {\n  _s();\n  var _location$state;\n  const [user, setuser] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState([]);\n  const auth = useAuth();\n  const location = useLocation();\n  const redirectPath = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.path) || '/appointments';\n  const navigate = useNavigate();\n  const logInData = {\n    name: user,\n    password\n  };\n  function handleLogin(e) {\n    e.preventDefault();\n    fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify(logInData)\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(data => console.log(data));\n        auth.login(user);\n        navigate(redirectPath, {\n          replace: true\n        });\n      } else {\n        response.json().then(errorData => setErrors(errorData.error));\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"login-page\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"login-form\",\n      onSubmit: handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"Log In \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), errors.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          color: 'red'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: errors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"user \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          placeholder: \"Enter user\",\n          required: true,\n          onChange: e => setuser(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"password\",\n          placeholder: \"Enter password\",\n          autoComplete: \"true\",\n          required: true,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-text\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forget-password\",\n          children: \"Forgot Password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-text\",\n        children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \" Create an account.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          style: {\n            width: '230px'\n          },\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n}\n_s(SignInPage, \"Hmo/4AgqEDVd6HCnqNKd5283OK0=\", false, function () {\n  return [useAuth, useLocation, useNavigate];\n});\n_c = SignInPage;\nvar _c;\n$RefreshReg$(_c, \"SignInPage\");","map":{"version":3,"names":["React","useState","useAuth","Link","useNavigate","useLocation","jsxDEV","_jsxDEV","SignInPage","_s","_location$state","user","setuser","password","setPassword","errors","setErrors","auth","location","redirectPath","state","path","navigate","logInData","name","handleLogin","e","preventDefault","fetch","method","headers","credentials","body","JSON","stringify","then","response","ok","json","data","console","log","login","replace","errorData","error","id","children","onSubmit","style","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","length","color","className","type","placeholder","required","onChange","target","value","autoComplete","to","width","_c","$RefreshReg$"],"sources":["/home/brian/Development/code/phase4/client/src/components/LogInPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styling/login.css';\nimport { useAuth } from './auth';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\n\nexport default function SignInPage() {\n\t\n\tconst [user, setuser] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [errors, setErrors] = useState([]);\n\tconst auth = useAuth()\n\tconst location = useLocation()\n\n\tconst redirectPath = location.state?.path || '/appointments'\n\n\tconst navigate = useNavigate();\n\n\tconst logInData = { name: user, password };\n\n\tfunction handleLogin(e) {\n\t\te.preventDefault();\n\t\tfetch('/login', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify(logInData)\n\t\t}).then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\tresponse.json().then((data) => console.log(data));\n\t\t\t\tauth.login(user)\n\t\t\t\tnavigate(redirectPath, {replace: true});\n\t\t\t} else {\n\t\t\t\tresponse.json().then((errorData) => setErrors(errorData.error));\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<div id=\"login-page\">\n\t\t\t<form id=\"login-form\" onSubmit={handleLogin}>\n\t\t\t\t<h2 style={{ textAlign: 'center' }}>Log In </h2>\n\t\t\t\t{errors.length > 0 && (\n\t\t\t\t\t<ul style={{ color: 'red' }}>\n\t\t\t\t\t\t<li>{errors}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">user </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter user\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setuser(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\t\t\tautoComplete=\"true\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<p className=\"form-text\">\n\t\t\t\t\t<Link to=\"/forget-password\">Forgot Password?</Link>\n\t\t\t\t</p>\n\t\t\t\t<p className=\"form-text\">\n\t\t\t\t\tDon't have an account?\n\t\t\t\t\t<Link to=\"/register\"> Create an account.</Link>\n\t\t\t\t</p>\n\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tstyle={{ width: '230px' }}\n\t\t\t\t\t>\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}