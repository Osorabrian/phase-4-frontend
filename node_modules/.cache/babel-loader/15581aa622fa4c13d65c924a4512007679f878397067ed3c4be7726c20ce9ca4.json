{"ast":null,"code":"import _slicedToArray from\"/home/brian/Development/code/phase4/phase-4-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../styling/register.css';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'./auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUp(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setuser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),condition=_useState6[0],setCondition=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),nurse=_useState8[0],setNurse=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),nurses=_useState10[0],setNurses=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),errors=_useState12[0],setErrors=_useState12[1];var auth=useAuth();var navigate=useNavigate();var signUpData={name:user,password:password,condition:condition,nurse_id:nurse};useEffect(function(){fetch('/nurses',{method:'GET',credentials:'include'}).then(function(response){return response.json();}).then(function(data){return setNurses(data);});},[]);var allNurses=nurses.map(function(nurse){return/*#__PURE__*/_jsx(\"option\",{value:nurse.id,children:nurse.speciality},nurse.id);});function handleSignUp(e){e.preventDefault();fetch('/patients',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(signUpData)}).then(function(response){if(response.ok){response.json().then(function(newPatient){return console.log(newPatient);});auth.login(user);navigate('/appointments',{replace:true});}else{response.json().then(function(errorData){return setErrors(errorData.errors);});}});}return/*#__PURE__*/_jsx(\"div\",{id:\"signup-page\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"signup-form\",onSubmit:handleSignUp,children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center'},children:\"Sign Up\"}),errors.length>0&&/*#__PURE__*/_jsx(\"ul\",{style:{color:'red'},children:errors.map(function(error,index){return/*#__PURE__*/_jsx(\"li\",{children:error},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"user\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Enter user\",required:true,onChange:function onChange(e){return setuser(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",autoComplete:\"true\",placeholder:\" password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Medical condition\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Enter condition\",required:true,onChange:function onChange(e){return setCondition(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nurse\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",onChange:function onChange(e){return setNurse(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose...\"}),allNurses]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"form-text\",children:[\"Already have an account ?\",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Log in\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",style:{width:'300px'},children:\"Sign Up\"})})]})});}","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","SignUp","_useState","_useState2","_slicedToArray","user","setuser","_useState3","_useState4","password","setPassword","_useState5","_useState6","condition","setCondition","_useState7","_useState8","nurse","setNurse","_useState9","_useState10","nurses","setNurses","_useState11","_useState12","errors","setErrors","auth","navigate","signUpData","name","nurse_id","fetch","method","credentials","then","response","json","data","allNurses","map","value","id","children","speciality","handleSignUp","e","preventDefault","headers","body","JSON","stringify","ok","newPatient","console","log","login","replace","errorData","onSubmit","style","textAlign","length","color","error","index","className","type","placeholder","required","onChange","target","autoComplete","to","width"],"sources":["/home/brian/Development/code/phase4/phase-4-project/client/src/components/RegisterPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../styling/register.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport {useAuth} from './auth'\n\nexport default function SignUp() {\n\n\tconst [user, setuser] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [condition, setCondition] = useState('');\n\tconst [nurse, setNurse] = useState('');\n\tconst [nurses, setNurses] = useState([]);\n\tconst [errors, setErrors] = useState([]);\n\n\tconst auth = useAuth()\n\n\tconst navigate = useNavigate();\n\n\tconst signUpData = {\n\t\tname: user,\n\t\tpassword: password,\n\t\tcondition: condition,\n\t\tnurse_id: nurse,\n\t};\n\n\tuseEffect(() => {\n\t\tfetch('/nurses', {\n\t\t\tmethod: 'GET',\n\t\t\tcredentials: 'include'\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => setNurses(data));\n\t}, []);\n\n\tconst allNurses = nurses.map((nurse) => {\n\t\treturn (\n\t\t\t<option key={nurse.id} value={nurse.id}>\n\t\t\t\t{nurse.speciality}\n\t\t\t</option>\n\t\t);\n\t});\n\n\tfunction handleSignUp(e) {\n\t\te.preventDefault();\n\t\tfetch('/patients', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify(signUpData),\n\t\t}).then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\tresponse.json().then((newPatient) => console.log(newPatient));\n\t\t\t\tauth.login(user)\n\t\t\t\tnavigate('/appointments', {replace: true});\n\t\t\t} else {\n\t\t\t\tresponse.json().then((errorData) => setErrors(errorData.errors));\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<div id=\"signup-page\">\n\t\t\t<form id=\"signup-form\" onSubmit={handleSignUp}>\n\t\t\t\t<h2 style={{ textAlign: 'center' }}>Sign Up</h2>\n\n\t\t\t\t{errors.length > 0 && (\n\t\t\t\t\t<ul style={{ color: 'red' }}>\n\t\t\t\t\t\t{errors.map((error, index) => {\n\t\t\t\t\t\t\treturn <li key={index}>{error}</li>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">user</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter user\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setuser(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<label className=\"form-label\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tautoComplete=\"true\"\n\t\t\t\t\t\tplaceholder=\" password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t<label className=\"form-label\">Medical condition</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Enter condition\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={(e) => setCondition(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t<label className=\"form-label\">Nurse</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName=\"form-select\"\n\t\t\t\t\t\t\tonChange={(e) => setNurse(e.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option>Choose...</option>\n\t\t\t\t\t\t\t{allNurses}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<p className=\"form-text\">\n\t\t\t\t\tAlready have an account ?<Link to=\"/\">Back to Log in</Link>\n\t\t\t\t</p>\n\n\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tstyle={{ width: '300px' }}\n\t\t\t\t\t>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}